export EASYBUILD_ZIP_LOGS=bzip2
export EASYBUILD_RPATH=1
export EASYBUILD_MODULE_EXTENSIONS=1
export EASYBUILD_BUILDPATH=/dev/shm/${USER}
export EASYBUILD_SOURCEPATH=/data/${USER}/sources
export EASYBUILD_ROBOT_PATHS=/home/${USER}/easybuild/cit-hpc-easybuild:/home/${USER}/easybuild/easybuild-easyconfigs/easybuild/easyconfigs

if [ -z ${SW_STACK_REPO} ] || [ -z ${SW_STACK_ARCH} ] || [ -z ${SW_STACK_OS} ] || [ -z ${SW_STACK_VERSION} ]; then
  echo "Error: the variables \$SW_STACK_REPO, \$SW_STACK_OS, \$SW_STACK_VERSION, and \$SW_STACK_ARCH have to be set!"
  exit 1
fi
export EASYBUILD_INSTALLPATH=/cvmfs/${SW_STACK_REPO}/versions/${SW_STACK_VERSION}/${SW_STACK_OS}/${SW_STACK_ARCH}

export EASYBUILD_HOOKS=/home/${USER}/easybuild/cit-hpc-easybuild/hooks/habrok.py
# make sure hooks are available, so we can produce a clear error message
if [ ! -f $EASYBUILD_HOOKS ]; then
  echo "Error: $EASYBUILD_HOOKS does not exist!"
  exit 1
fi
